# 타입 변환과 다형성

다형성을 구현하기 위해서는 메서드 재정의와 타입 변환이 필요하다. 인터페이스 역시 이 두 가지 기능이 제공되므로 상속과 더불어 다형성을 구현하는 데
많이 사용된다. 상속은 같은 종류의 하위 클래스를 만드는 기술이고, 인터페이스는 사용 방법이 동일한 클래스를 만드는 기술이라는 개념상 차이가 있지만
둘 다 다형성을 구현하는 방법은 비슷하다. 이번 절에서는 인터페이스의 타입 변환과 다형성에 대해서 알아보겠다.

---

프로그램을 개발할 때 인터페이스를 사용해서 메서드를 호출하도록 코딩했다면, 구현 객체를 매우 손쉽게 빠르게 교체할 수 있다.
프로그램 소스 코드는 변함이 없는데, 구현 객체를 교체함으로써 프로그램의 실행결과가 다양해진다. 이것이 인터페이스의 다형성이다.

---
## 자동 타입 변환

구현 객체가 인터페이스 타입으로 변환되는 것은 자동 타입 변환(Promotion)에 해당한다. 자동 타입 변환은 프로그램 실행 도중에 
자동적으로 타입 변환이 일어나는 것을 말한다.
인터페이스 변수 = 구현객체;(promotion)

인터페이스 구현 클래스를 상속해서 자식 클래스를 만들었다면 자식 객체 역시 인터페이스 타입으로 자동 타입 변환할 수 있다.
자동 타입 변환을 이용하면 필드의 다형성과 매개 변수의 다형성을 구할 수 있다. 필드와 매개변수의 타입을 인터페이스로 선언하면 
다양한 구현 객체를 대입해서 실험결과를 다양하게 만들 수 있다.

---
## 필드의 다형성

타이어 클래스는 타입에 한국 타이어와 금호 타이어라는 자식 객체를 대입해서 교체할 수 있음을 보여주었지만, 다음은 타이어가 클래스 타입이 아니고
인터페이스 타입이라는 점과 한국 타이어와 금호 타이어는 자식 클래스가 아니라 구현 클래스라는 차이점이 있다. 한국 타이어와 금호 타이어는 공통적으로
타이어 인터페이스를 구현했기 때문에 모두 타이어 인터페이스에 있는 메서드를 가지고 있다. 따라서 타이어 인터페이스로 동일하게 사용할 수 있는 교체
가능한 객체에 해당한다.

자동차를 설계할 때 다음과 같이 필드 타입으로 타이어 인터페이스를 선언하면 필드값으로 한국 타이어 또는 금호 타이어 객체를 대입할 수 있다. 자동 타입
변환이 일어나기 때문에 아무런 문제가 없다.
public class Car {
    Tire frontLeftTire = new HankookTire();
    Tire frontRightTire = new HankookTire();
    Tire backLeftTire = new HankookTire();
    Tire backRightTire = new HankookTire();
}

Car 객체를 생성한 후, 초기값으로 대입한 구현 객체 대신 다른 구현 객체를 대입할 수도 있다. 이것이 타이어 교체에 해당한다.
Car myCar = new Car();
myCar.frontLeftTire = new KumhoTire();
myCar.frontRightTire = new kumhoTire();

frontLeftTire와 frontRightTire에 어떠한 타이어 구현 객체가 저장되더라도 Car 객체는 타이어 인터페이스에 선언된 메서드만 사용하므로 전혀 문제가
되지 않는다.

다음은 Car 객체의 run() 메서드에서 타이어 인테피이스에 선언된 roll() 메서드를 호출한다.
void roll() {
    frontLeftTire.roll();
    frontRightTire.roll();
    backLeftTire.roll();
    backRightTire.roll();
}

frontLeftTire와 frontRightTire를 교체하기 전에는 HankookTire 객체의 roll() 메서드가 호출되지만, KumhoTire로 교체된 이후에는 KumhoTire
객체의 roll 메서드가 호출된다. Car의 run() 메서드를 수정하지 않아도 다양한 roll() 메서드의 실행결과를 얻을 수 있게 되는 것이다. 이것이 바로
필드의 다형성이다.