# 중첩 클래스와 중첩 인터페이스 

객체 지향 프로그래밍에서 클래스들은 서로 긴밀한 관계를 맺고 상호작용을 한다. 어떤 클래스는 여러 클래스와 관계를 맺지만
어떤 클래스는 특정 클래스와 관계를 맺는다. 클래스가 여러 클래스와 관계를 맺는 경우에는 독립적으로 선언하는 것이 좋으나,
특정 클래스와 관계를 맺는 경우에는 클래스 내부에 선언하는 것이 좋다. 이번 절에서는 클래스 내부에 선언한 중첩 클래스와 중첩 인터페이스에 대해 알아
보겠다.

---
중첩 클래스 nested class 란 클래스 내부에 선언한 클래스를 말한다. 중첩 클래스를 사용하면 두 클래스의 멤버들을 서로 쉽게 접근할 수 있고, 외부에
는 불필요한 관계 클래스를 감춤으로써 코드의 복잡성을 줄일 수 있다는 장점이 있다. 다음은 중첩 클래스의 코드 형태를 보여준다.
'''
class ClassName {
    class NestedClassName {
    }   // 중첩 클래스
}
'''

인터페이스도 클래스 내부에 선언할 수 있는데, 이런 인터페이스를 중첩 인터페이스 nested interface라고 한다.
인터페이스를 클래스 내부에 선언하는 이유는 해당 클래스와 긴밀한 관계를 맺는 구현 클래스를 만들기 위함이다.
'''
class ClassName {
    interface NestedInterfaceName {
    }   // 중첩 인터페이스
}
'''

---
## 중첩 클래스

중첩 클래스는 클래스 내부에 선언되는 위치에 따라서 두 가지로 분류된다. 클래스의 멤버로서 선언되는 중첩 클래스를 멤버 클래스라고 하고, 
생성자 또는 메서드 내부에서 선언되는 중첩 클래스를 로컬 클래스라고 한다. 멤버 클래스는 클래스나 객체가 사용 중이라면 언제든지 재사용이 가능하지만,
로컬 클래스는 메서드를 실행할 때만 사용되고 메서드가 종료되면 없어진다.

중첩 클래스도 하나의 클래스이기 때문에 컴파일하면 바이트 코드 파일(.class)이 별도로 생성된다.
멤버 클래스일 경우 바이트 코드 파일의 이름은 다음과 같이 결정된다.
'''
A $ B .class    // A(바깥 클래스), B(멤버 클래스)
'''

로컬 클래스일 경우에는 다음과 같이 $1이 포함된 바이트 코드 파일이 생성된다.
'''
A $1 B .class   // A(바깥 클래스), B(로컬 클래스)
'''

---
### 인스턴스 멤버 클래스

인스턴스 멤버 클래스는 static 키워드 없이 중첩 선언된 클래스를 말한다. 인스턴스 멤버 클래스는 인스턴스 필드와 메서드만 선언이 가능하고
정적 필드와 메서드는 선언할 수 없다.
'''
class A {
    /**인스턴스 멤버 클래스**/
    class B {
        B() { } // 생성자
        int field1; // 인스턴스 필드
        //static int field2;    //정적 필드(x)
        void method1() { }; // 인스턴스 메서드
        //static void method2() { };    // 정적 메서드(x)
    }
}
'''

A 클래스 외부에서 B 객체를 생성하려면 먼저 A 객체를 생성하고 B 객체를 생성해야 한다.
A 클래스 내부의 생성자 및 인스턴스 메서드에서는 일반 클래스처럼 B 객체를 생성할 수 있다.

일반적으로 A 클래스 외부에서 B 객체를 생성하는 일은 거의 없다.
대부분 A 클래스 내부에서 B 객체를 생성해서 사용한다.

---
### 정적 멤버 클래스

정적 멤버 클래스는 static 키워드로 선언된 클래스를 말한다. 정적 멤버 클래스는 모든 종류의 필드와 메서드를 선언할 수 있다.

'''
class A {
    /**정적 멤버 클래스**/
    static class C {
        C() { } // 생성자
        int field1; // 인스턴스 필드
        static int field2;  // 정적 필드
        void method1() { }; // 인스턴스 메서드
        static void method2() { };  // 정적 메서드
    }
}
'''

A 클래스 외부에서 정적 멤버 클래스 C의 객체를 생성하기 위해서는 A 객체를 생성할 필요가 없고, 다음과 같이 C 객체를 생성하면 된다.

'''
A.C c = new A.C();
c.field1 = 3;   // 인스턴스 필드 사용
c.method1();    // 인스턴스 메서드 호출
A.C.field2 = 3; // 정적 필드 사용
A.C.method2();  // 정적 메서드 호출
'''

---
### 로컬 클래스

중첩 클래스는 메서드 내에서도 선언할 수 있는데, 이것을 로컬 local 클래스라고 한다. 로컬 클래스는 접근 제한다 및 static을 붙일 수 없다.
로컬 클래스는 메서드 내부에서만 사용되므로 접근을 제한할 필요가 없기 때문이다. 로컬 클래스 내부에는 인스턴스 필드와 메서드만 선언할 수 있고 
정적 필드와 메서드는 선언할 수 없다.

'''
void method() {
    /**로컬 클래스**/
    class D {
        D() { }    // 생성자
        int field1; // 인스턴스 필드
        //static int field2;    // 정적 필드(x)
        void method2(); // 인스턴스 메서드
        // static void method2(); // 정적 메서드(x)
    }
    D d = new D();
    d.field1 = 3;
    d.method1();
}